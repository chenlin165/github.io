<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人门户网站</title>
    <style>
        /* 全局样式 - 绿色护眼主题 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft Yahei", sans-serif;
        }

        body {
            background-color: #e8f5e9; /* 淡绿色护眼背景 */
            color: #2e7d32; /* 深绿色文字 */
            line-height: 1.6;
            padding-bottom: 50px;
        }

        /* 容器样式 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* 导航栏样式 - 支持自定义LOGO和导航项 */
        .navbar {
            background-color: #81c784;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            flex-wrap: wrap; /* 适配小屏幕 */
            gap: 20px;
        }

        .logo {
            /* LOGO尺寸可自定义 - 修改width/height即可 */
            width: 80px; /* 你可以调整LOGO宽度 */
            height: 80px; /* 你可以调整LOGO高度 */
            background-color: #4caf50;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            /* 如需替换为图片，取消下面注释并修改路径 */
            /* background-image: url('你的LOGO图片路径'); */
            /* background-size: cover; */
            /* background-position: center; */
        }

        .nav-items {
            display: flex;
            gap: 25px;
            /* 导航位置调整 - 可修改justify-content */
            /* justify-content: flex-start; 靠左(默认) | center 居中 | flex-end 靠右 */
            justify-content: flex-start;
            flex-grow: 1;
        }

        .nav-item {
            list-style: none;
        }

        .nav-item a {
            text-decoration: none;
            color: white;
            font-size: 16px;
            padding: 8px 12px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .nav-item a:hover {
            background-color: #66bb6a;
        }

        /* 时间日期模块 */
        .datetime {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .datetime-display {
            font-size: 20px;
            font-weight: bold;
            color: #2e7d32;
        }

        /* 百度搜索模块 */
        .search-box {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .baidu-search {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        #search-input {
            flex-grow: 1;
            padding: 12px 15px;
            border: 1px solid #a5d6a7;
            border-radius: 4px;
            font-size: 16px;
        }

        #search-btn {
            padding: 12px 25px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        #search-btn:hover {
            background-color: #43a047;
        }

        .search-history {
            margin-top: 15px;
        }

        .history-title {
            font-size: 16px;
            margin-bottom: 10px;
            color: #4caf50;
        }

        .history-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .history-item {
            padding: 8px 12px;
            background-color: #f1f8e9;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .delete-history {
            color: #e53935;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
        }

        /* 股票模块 */
        .stock-section {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stock-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        #stock-code {
            flex-grow: 1;
            padding: 12px 15px;
            border: 1px solid #a5d6a7;
            border-radius: 4px;
            font-size: 16px;
        }

        #query-stock {
            padding: 12px 25px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        #query-stock:hover {
            background-color: #43a047;
        }

        .stock-info {
            padding: 15px;
            border: 1px solid #e8f5e9;
            border-radius: 4px;
            display: none;
        }

        .stock-info.show {
            display: block;
        }

        .stock-item {
            margin: 8px 0;
            font-size: 16px;
        }

        .stock-item span {
            font-weight: bold;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 导航栏 - 可自定义LOGO尺寸、导航顺序/位置 -->
        <nav class="navbar">
            <!-- LOGO - 修改width/height即可调整尺寸 -->
            <div class="logo">我的LOGO</div>
            
            <!-- 导航项 - 调整li顺序即可改变导航顺序 -->
            <ul class="nav-items">
                <li class="nav-item"><a href="#">首页</a></li>
                <li class="nav-item"><a href="#">我的博客</a></li>
                <li class="nav-item"><a href="#">收藏夹</a></li>
                <li class="nav-item"><a href="#">关于我</a></li>
                <li class="nav-item"><a href="#">联系我</a></li>
            </ul>
        </nav>

        <!-- 实时日期时间(含农历)模块 -->
        <div class="datetime">
            <div class="datetime-display" id="datetime-display"></div>
        </div>

        <!-- 百度搜索框(带搜索记录删除) -->
        <div class="search-box">
            <div class="baidu-search">
                <input type="text" id="search-input" placeholder="请输入搜索内容...">
                <button id="search-btn">百度搜索</button>
            </div>
            <div class="search-history">
                <div class="history-title">搜索历史：</div>
                <div class="history-list" id="history-list"></div>
            </div>
        </div>

        <!-- 股票查看模块 -->
        <div class="stock-section">
            <div class="stock-input">
                <input type="text" id="stock-code" placeholder="请输入股票代码(如：600000 浦发银行)，支持沪深京A股">
                <button id="query-stock">查询股票</button>
            </div>
            <div class="stock-info" id="stock-info">
                <div class="stock-item">股票名称：<span id="stock-name">-</span></div>
                <div class="stock-item">最新价格：<span id="stock-price">-</span></div>
                <div class="stock-item">涨跌幅：<span id="stock-change">-</span></div>
                <div class="stock-item">涨跌额：<span id="stock-change-price">-</span></div>
                <div class="stock-item">成交量：<span id="stock-volume">-</span></div>
                <div class="stock-item">成交额：<span id="stock-amount">-</span></div>
            </div>
        </div>
    </div>

    <script>
        // 1. 实时日期时间(含农历)显示
        function getLunarCalendar(date) {
            // 简易农历转换（如需更精准可接入专业农历API）
            const lunarMonths = ['正月','二月','三月','四月','五月','六月','七月','八月','九月','十月','冬月','腊月'];
            const lunarDays = ['初一','初二','初三','初四','初五','初六','初七','初八','初九','初十',
                               '十一','十二','十三','十四','十五','十六','十七','十八','十九','二十',
                               '廿一','廿二','廿三','廿四','廿五','廿六','廿七','廿八','廿九','三十'];
            
            // 简化版 - 实际开发可使用lunar-javascript等库
            const month = date.getMonth();
            const day = date.getDate();
            return `${lunarMonths[month]}${lunarDays[day-1]}`;
        }

        function updateDateTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hour = String(now.getHours()).padStart(2, '0');
            const minute = String(now.getMinutes()).padStart(2, '0');
            const second = String(now.getSeconds()).padStart(2, '0');
            const week = ['日','一','二','三','四','五','六'][now.getDay()];
            const lunar = getLunarCalendar(now);

            const datetimeStr = `${year}年${month}月${day}日 星期${week} ${hour}:${minute}:${second} ${lunar}`;
            document.getElementById('datetime-display').textContent = datetimeStr;
        }

        // 初始化并每秒更新时间
        updateDateTime();
        setInterval(updateDateTime, 1000);

        // 2. 百度搜索功能 + 搜索记录(支持单条删除)
        let searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];

        // 渲染搜索历史
        function renderHistory() {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';
            
            if (searchHistory.length === 0) {
                historyList.innerHTML = '<div>暂无搜索记录</div>';
                return;
            }

            searchHistory.forEach((item, index) => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <span>${item}</span>
                    <span class="delete-history" data-index="${index}">×</span>
                `;
                historyList.appendChild(historyItem);
            });

            // 绑定删除事件
            document.querySelectorAll('.delete-history').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = this.getAttribute('data-index');
                    searchHistory.splice(index, 1);
                    localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
                    renderHistory();
                });
            });
        }

        // 百度搜索跳转
        document.getElementById('search-btn').addEventListener('click', function() {
            const searchText = document.getElementById('search-input').value.trim();
            if (!searchText) return;

            // 添加到搜索历史
            if (!searchHistory.includes(searchText)) {
                searchHistory.unshift(searchText); // 最新的在前面
                // 限制历史记录数量为10条
                if (searchHistory.length > 10) {
                    searchHistory.pop();
                }
                localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
                renderHistory();
            }

            // 跳转到百度搜索
            const searchUrl = `https://www.baidu.com/s?wd=${encodeURIComponent(searchText)}`;
            window.open(searchUrl, '_blank');
            
            // 清空输入框
            document.getElementById('search-input').value = '';
        });

        // 按回车搜索
        document.getElementById('search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('search-btn').click();
            }
        });

        // 初始化渲染历史记录
        renderHistory();

        // 3. 股票查询功能（使用新浪财经接口）
        document.getElementById('query-stock').addEventListener('click', async function() {
            const stockCode = document.getElementById('stock-code').value.trim();
            if (!stockCode) {
                alert('请输入股票代码！');
                return;
            }

            const stockInfo = document.getElementById('stock-info');
            stockInfo.classList.add('show');
            
            try {
                // 新浪财经股票接口（免费）
                let url = '';
                // 区分沪深京A股
                if (stockCode.startsWith('6')) { // 沪市
                    url = `https://hq.sinajs.cn/list=sh${stockCode}`;
                } else if (stockCode.startsWith('0') || stockCode.startsWith('3')) { // 深市
                    url = `https://hq.sinajs.cn/list=sz${stockCode}`;
                } else if (stockCode.startsWith('8')) { // 北交所
                    url = `https://hq.sinajs.cn/list=bj${stockCode}`;
                } else {
                    alert('暂不支持该股票代码！');
                    return;
                }

                // 跨域请求处理
                const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`);
                const data = await response.json();
                
                if (data.contents) {
                    const stockData = data.contents.split(',');
                    if (stockData.length > 30) {
                        // 解析股票数据
                        document.getElementById('stock-name').textContent = stockData[0].split('=')[1];
                        document.getElementById('stock-price').textContent = stockData[3];
                        document.getElementById('stock-change').textContent = `${stockData[32]}%`;
                        document.getElementById('stock-change-price').textContent = stockData[31];
                        document.getElementById('stock-volume').textContent = (stockData[8]/100).toFixed(0) + ' 手';
                        document.getElementById('stock-amount').textContent = (stockData[9]/10000).toFixed(2) + ' 万元';

                        // 涨跌幅颜色标记
                        const changeSpan = document.getElementById('stock-change');
                        if (parseFloat(stockData[32]) > 0) {
                            changeSpan.style.color = '#e53935'; // 涨-红色
                        } else if (parseFloat(stockData[32]) < 0) {
                            changeSpan.style.color = '#4caf50'; // 跌-绿色
                        } else {
                            changeSpan.style.color = '#2e7d32'; // 平-深绿
                        }
                    } else {
                        alert('股票代码错误或暂无数据！');
                    }
                }
            } catch (error) {
                console.error('股票查询失败：', error);
                alert('股票查询失败，请稍后重试！');
            }
        });

        // 股票输入框回车查询
        document.getElementById('stock-code').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('query-stock').click();
            }
        });
    </script>
</body>
</html>
